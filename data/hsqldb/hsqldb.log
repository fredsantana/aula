/*C29*/SET SCHEMA PUBLIC
alter table pedidoProdutos drop constraint FK7C4E76FF95989467
alter table pedidoProdutos drop constraint FK7C4E76FF2482E0AD
alter table pedidos_produtos drop constraint FK48DF97EB95989467
alter table pedidos_produtos drop constraint FK48DF97EB2482E0AD
alter table produtos_cotacoes drop constraint FKA558F77895989467
alter table produtos_cotacoes drop constraint FKA558F7785760407
drop table cotacoes if exists
drop table pedidoProdutos if exists
drop table pedidos if exists
drop table pedidos_produtos if exists
drop table produtos if exists
drop table produtos_cotacoes if exists
create table cotacoes (id bigint generated by default as identity (start with 1), cpf bigint not null, dataSolicitacao timestamp, solicitante varchar(255), primary key (id))
create table pedidoProdutos (pedido bigint not null, produto bigint not null, quantidade integer not null, total float not null, PEDIDO_ID bigint, PRODUTO_ID bigint, primary key (pedido, produto))
create table pedidos (id bigint generated by default as identity (start with 1), cpf bigint not null, dataPedido date, enderecoEntrega varchar(255), nome varchar(255), total float not null, primary key (id))
create table pedidos_produtos (quantidade integer not null, total float not null, produto_id bigint, pedido_id bigint, primary key (pedido_id, produto_id))
create table produtos (id bigint generated by default as identity (start with 1), descricao varchar(255), nome varchar(255), quantidade integer not null, valor float not null, primary key (id))
create table produtos_cotacoes (cotacao_id bigint not null, produto_id bigint not null, primary key (cotacao_id, produto_id))
alter table pedidoProdutos add constraint FK7C4E76FF95989467 foreign key (PRODUTO_ID) references produtos
alter table pedidoProdutos add constraint FK7C4E76FF2482E0AD foreign key (PEDIDO_ID) references pedidos
alter table pedidos_produtos add constraint FK48DF97EB95989467 foreign key (produto_id) references produtos
alter table pedidos_produtos add constraint FK48DF97EB2482E0AD foreign key (pedido_id) references pedidos
alter table produtos_cotacoes add constraint FKA558F77895989467 foreign key (produto_id) references produtos
alter table produtos_cotacoes add constraint FKA558F7785760407 foreign key (cotacao_id) references cotacoes
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
INSERT INTO PRODUTOS VALUES(1,'descri\u00e7\u00e3o do produto 1','produto 1',2,13.569999694824219E0)
COMMIT
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
INSERT INTO PRODUTOS VALUES(2,'descri\u00e7\u00e3o do produto 2','produto 2',3,41.72999954223633E0)
COMMIT
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DISCONNECT
/*C38*/SET SCHEMA PUBLIC
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
INSERT INTO PEDIDOS VALUES(1,123456789,'2014-05-28','Av. Prof','Fred Santana',110.5999984741211E0)
INSERT INTO PEDIDOS_PRODUTOS VALUES(2,27.139999389648438E0,1,1)
INSERT INTO PEDIDOS_PRODUTOS VALUES(2,83.45999908447266E0,2,1)
DELETE FROM PRODUTOS WHERE ID=1
INSERT INTO PRODUTOS VALUES(1,'descri\u00e7\u00e3o do produto 1','produto 1',0,13.569999694824219E0)
DELETE FROM PRODUTOS WHERE ID=2
INSERT INTO PRODUTOS VALUES(2,'descri\u00e7\u00e3o do produto 2','produto 2',1,41.72999954223633E0)
COMMIT
DISCONNECT
/*C41*/SET SCHEMA PUBLIC
DISCONNECT
/*C42*/SET SCHEMA PUBLIC
DISCONNECT
/*C40*/SET SCHEMA PUBLIC
DISCONNECT
/*C43*/SET SCHEMA PUBLIC
DISCONNECT
/*C44*/SET SCHEMA PUBLIC
DISCONNECT
/*C45*/SET SCHEMA PUBLIC
DISCONNECT
/*C47*/SET SCHEMA PUBLIC
DISCONNECT
/*C48*/SET SCHEMA PUBLIC
DISCONNECT
/*C49*/SET SCHEMA PUBLIC
DISCONNECT
/*C50*/SET SCHEMA PUBLIC
DISCONNECT
/*C46*/SET SCHEMA PUBLIC
DISCONNECT
/*C52*/SET SCHEMA PUBLIC
DISCONNECT
/*C51*/SET SCHEMA PUBLIC
INSERT INTO PEDIDOS VALUES(2,32165497,'2014-05-21','jgjhghjg','jhgjg',41.72999954223633E0)
INSERT INTO PEDIDOS_PRODUTOS VALUES(1,41.72999954223633E0,2,2)
DELETE FROM PRODUTOS WHERE ID=2
INSERT INTO PRODUTOS VALUES(2,'descri\u00e7\u00e3o do produto 2','produto 2',0,41.72999954223633E0)
COMMIT
DISCONNECT
/*C53*/SET SCHEMA PUBLIC
DISCONNECT
/*C55*/SET SCHEMA PUBLIC
DISCONNECT
/*C54*/SET SCHEMA PUBLIC
DISCONNECT
/*C56*/SET SCHEMA PUBLIC
DISCONNECT
/*C58*/SET SCHEMA PUBLIC
DISCONNECT
/*C57*/SET SCHEMA PUBLIC
DISCONNECT
